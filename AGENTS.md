# Agent Instructions

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **bd** (Beads) –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–¥–∞—á.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
bd ready              # –ù–∞–π—Ç–∏ –∑–∞–¥–∞—á–∏ –≥–æ—Ç–æ–≤—ã–µ –∫ —Ä–∞–±–æ—Ç–µ
bd show <id>          # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏
bd update <id> --status in_progress  # –í–∑—è—Ç—å –∑–∞–¥–∞—á—É –≤ —Ä–∞–±–æ—Ç—É
bd close <id>         # –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É
bd sync               # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å git
```

## üìã –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

**–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã:**
1. –í—ã–ø–æ–ª–Ω–∏ `bd ready` ‚Äî —É–≤–∏–¥–∏—à—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –±–µ–∑ –±–ª–æ–∫–µ—Ä–æ–≤
2. –í—ã–±–µ—Ä–∏ –∑–∞–¥–∞—á—É –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (P0 > P1 > P2)
3. –í–æ–∑—å–º–∏ –≤ —Ä–∞–±–æ—Ç—É: `bd update <id> --status in_progress`

**–í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:**
4. –ß–∏—Ç–∞–π AI_Context.md –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
5. –î–µ–ª–∞–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
6. –ö–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ git

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
7. –ó–∞–∫—Ä–æ–π –∑–∞–¥–∞—á—É: `bd close <id>`
8. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π: `bd sync`
9. Push –≤ git: `git push`

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏

**–†–∞–±–æ—Ç–∞ –ù–ï –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ–∫–∞ `git push` –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω!**

```bash
git pull --rebase
bd sync
git push
git status  # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "up to date with origin"
```

## üìÅ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

- `AI_Context.md` ‚Äî –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞, –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `AGENTS.md` ‚Äî —ç—Ç–æ—Ç —Ñ–∞–π–ª —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- `.beads/` ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á bd

## üéØ –¢–µ–∫—É—â–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã ‚Äî –û–ë–ù–û–í–õ–ï–ù–û 15.01.2026 (–°–ï–°–°–ò–Ø #3)

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 15.01.2026 (–°–ï–°–°–ò–Ø #3):
1. ‚úÖ **Admin Password Changed** ‚Äî –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å `motorsoft2026`
2. ‚úÖ **Nginx Installed** ‚Äî –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç :8000 ‚Üí :80, CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. ‚úÖ **Frontend Restored** ‚Äî package.json, src/, configs –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–∑ git
4. ‚úÖ **Vercel Redeploy** ‚Äî –∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞

### ‚è≥ –û–ñ–ò–î–ê–ï–¢:
1. ‚è≥ **DNS A-–∑–∞–ø–∏—Å—å** ‚Äî `api` ‚Üí `185.152.92.157` (–∫–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç)
2. ‚è≥ **SSL Certificate** ‚Äî `certbot --nginx -d api.motorsoft.pro` (–ø–æ—Å–ª–µ DNS)
3. ‚è≥ **Vercel NEXT_PUBLIC_API_URL** ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ `https://api.motorsoft.pro/api/v1`

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 14.01.2026 (–°–ï–°–°–ò–Ø #2 ‚Äî –í–ï–ß–ï–†):
1. ‚úÖ **Staff Management** ‚Äî CRUD –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ `/admin/staff`
2. ‚úÖ **Loyalty System** ‚Äî –∞–≤—Ç–æ-—Å–∫–∏–¥–∫–∏ –ø–æ—Å–ª–µ 20/50/100/200 –ø–æ–∫—É–ø–æ–∫
3. ‚úÖ **Partner Program** ‚Äî is_partner, is_slave, coefficient
4. ‚úÖ **Activity Filter** ‚Äî active/inactive/dead –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
5. ‚úÖ **Drag-Drop Upload** ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
6. ‚úÖ **API Routing Fix** ‚Äî —É–±—Ä–∞–Ω –¥–≤–æ–π–Ω–æ–π `/api` –≤ –ø—É—Ç—è—Ö
7. ‚úÖ **Admin Password Fix** ‚Äî SHA256 —Ö–µ—à (–Ω–µ bcrypt!)
8. ‚úÖ **Secrets Removed** ‚Äî —Å–µ–∫—Ä–µ—Ç—ã —É–±—Ä–∞–Ω—ã –∏–∑ git, GitHub push —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 14.01.2026 (–°–ï–°–°–ò–Ø #1 ‚Äî –£–¢–†–û):
1. ‚úÖ **S3 –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ VPS** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã S3 –∫–ª—é—á–∏ –≤ docker-compose.yml
2. ‚úÖ **Presigned URLs —Ä–∞–±–æ—Ç–∞—é—Ç** ‚Äî 10 –º–∏–Ω—É—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
3. ‚úÖ **–£–º–Ω—ã–π –ø–æ–∏—Å–∫ —É–ª—É—á—à–µ–Ω** ‚Äî —Ä–∞–∑–±–∏–≤–∞–µ—Ç –∏–º—è —Ñ–∞–π–ª–∞, —É–¥–∞–ª—è–µ—Ç –¥–∞—Ç—ã
4. ‚úÖ **SSH –±–µ–∑ –ø–∞—Ä–æ–ª—è** ‚Äî ssh-copy-id –Ω–∞—Å—Ç—Ä–æ–µ–Ω
5. ‚úÖ **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –≥–æ—Ç–æ–≤–∞** ‚Äî admin/admin123
6. ‚úÖ **Vercel –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è** ‚Äî NEXT_PUBLIC_API_URL –¥–æ–±–∞–≤–ª–µ–Ω–∞
7. ‚úÖ **firmware_variants –¥–æ–±–∞–≤–ª–µ–Ω—ã** ‚Äî –¥–ª—è Kia id=3319, Nissan id=5101

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 13.01.2026:
1. ‚úÖ VPS —Å–µ—Ä–≤–µ—Ä Timeweb Cloud —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã (API, Bot, PostgreSQL, Redis)
3. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ (7,407 –ø—Ä–æ—à–∏–≤–æ–∫)
4. ‚úÖ Telegram –±–æ—Ç @motorsoft_bot —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
5. ‚úÖ Yandex Object Storage –Ω–∞—Å—Ç—Ä–æ–µ–Ω (5 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤)

### üîÆ –ù–ê –ë–£–î–£–©–ï–ï:
1. **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** ‚Äî –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥—Ä—É–∑–µ–π —Å –±–æ–Ω—É—Å–∞–º–∏
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã** ‚Äî –ÆKassa/–ÆMoney
3. **–†–∞—Å—à–∏—Ä–∏—Ç—å –æ–ø—Ü–∏–∏** ‚Äî Pop&Bang, Launch Control

## üîê –î–û–°–¢–£–ü–´

### VPS –°–µ—Ä–≤–µ—Ä:
```bash
ssh root@185.152.92.157  # –ë–µ–∑ –ø–∞—Ä–æ–ª—è! SSH –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω
```

### –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:
- **URL:** https://motorsoft.pro/admin
- **–õ–æ–≥–∏–Ω:** admin
- **–ü–∞—Ä–æ–ª—å:** motorsoft2026

### API:
- **HTTP:** http://185.152.92.157/api/v1 (—á–µ—Ä–µ–∑ Nginx)
- **Direct:** http://185.152.92.157:8000/api/v1
- **Health:** http://185.152.92.157/health

### Telegram –±–æ—Ç:
- **Username:** @motorsoft_bot

## üìö –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** MotorSoft File Service ‚Äî –ø—Ä–æ–¥–∞–∂–∞ –ø—Ä–æ—à–∏–≤–æ–∫ ECU/TCU
- **–°—Ç–µ–∫:** FastAPI + PostgreSQL + aiogram (Telegram) + Next.js
- **–§–∏—à–∫–∞:** Telegram-–±–æ—Ç —Å OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ WinOLS
- **–ë–∞–∑–∞:** 7,407 –ø—Ä–æ—à–∏–≤–æ–∫, 201 –º–∞—Ä–∫–∞ –∞–≤—Ç–æ, 41 —Ç–∏–ø ECU
- **S3:** motorsoft-storage (Presigned URLs —Ä–∞–±–æ—Ç–∞—é—Ç)

